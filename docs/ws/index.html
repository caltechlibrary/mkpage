<!DOCTYPE html>
<html>
<head>
    <title>Caltech Library's Digital Library Development Sandbox</title>
    <link rel="stylesheet" href="/css/site.css">
</head>
<body>
<header>
<a href="http://library.caltech.edu"><img src="/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>

<section>
<h1>USAGE</h1>

<pre><code>ws [OPTIONS] [DOCROOT]
</code></pre>

<h2>DESCRIPTION</h2>

<p>SYNOPSIS</p>

<pre><code>a nimble web server
</code></pre>

<p>ws is a command line utility for developing and testing static websites.
It uses Go&rsquo;s standard http libraries and can supports both http 1 and 2
out of the box.  It is intended as a minimal wrapper for Go&rsquo;s standard
http libraries supporting http/https versions 1 and 2 out of the box.</p>

<p>CONFIGURATION</p>

<p>ws can be configurated through environment settings. The following are
supported.</p>

<ul>
<li>MKPAGE_URL  - sets the URL to listen on (e.g. <a href="http://localhost:8000">http://localhost:8000</a>)</li>
<li>MKPAGE_DOCROOT - sets the document path to use</li>
<li>MKPAGE_SSL_KEY - the path to the SSL key if using https</li>
<li>MKPAGE_SSL_CERT - the path to the SSL cert if using https</li>
</ul>

<h2>ENVIRONMENT</h2>

<p>Environment variables can be overridden by corresponding options</p>

<pre><code>    MKPAGE_DOCROOT   # set the htdoc root
    MKPAGE_SSL_CERT  # set the path to the SSL Certificate
    MKPAGE_SSL_KEY   # set the path to the SSL KEY
    MKPAGE_URL       # set the URL to listen on, defaults to http://localhost:8000
</code></pre>

<h2>OPTIONS</h2>

<p>Below are a set of options available. Options will override any corresponding environment settings.</p>

<pre><code>    -acme                Enable Let's Encypt ACME TLS support
    -c                   Set the path for the SSL Cert
    -cert                Set the path for the SSL Cert
    -cors-origin         Set the CORS Origin Policy to a specific host or *
    -d                   Set the htdocs path
    -docs                Set the htdocs path
    -example             display example(s)
    -generate-manpage    generate man page
    -generate-markdown   generate markdown documentation
    -h                   display help
    -help                display help
    -k                   Set the path for the SSL Key
    -key                 Set the path for the SSL Key
    -l                   display license
    -license             display license
    -quiet               suppress error messages
    -redirects-csv       Use target,destination replacement paths defined in CSV file
    -u                   The protocol and hostname listen for as a URL
    -url                 The protocol and hostname listen for as a URL
    -v                   display version
    -version             display version
</code></pre>

<h2>EXAMPLES</h2>

<p>EXAMPLES</p>

<p>Run web server using the content in the current directory
(assumes the environment variables MKPAGE_DOCROOT are not defined).</p>

<p>ws</p>

<p>Run web server using a specified directory</p>

<p>ws /www/htdocs</p>

<p>Running web server using ACME TLS support (i.e. Let&rsquo;s Encrypt).
Note will only include the hostname as the ACME setup is for
listenning on port 443. This may require privileged account
and will require that the hostname listed matches the public
DNS for the machine (this is need by the ACME protocol to
issue the cert, see <a href="https://letsencrypt.org">https://letsencrypt.org</a> for details)</p>

<p>ws -acme -url www.example.org /www/htdocs</p>

<p>ws v0.0.26</p>

</section>

<footer>
<span><h1><A href="http://caltech.edu">Caltech</a></h1></span>
<span>&copy; 2019 <a href="https://www.library.caltech.edu/copyright">Caltech library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address> 
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<a class="cl-hide" href="sitemap.xml">Site Map</a>
</footer>
</body>
</html>