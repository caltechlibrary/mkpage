<!DOCTYPE html>
<html>
<head>
    <title>mkpage: A prototypical template and markdown processor</title>
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic' rel='stylesheet' type='text/css'>
    <link href="css/site.css" rel="stylesheet" />
<head>
<body>
    <header>
        <h1>mkpage: A prototypical template and markdown processor</h1>
    </header>
    <section><p>This is prototypical at this stage&hellip;</p>

<h1>mkpage</h1>

<p>An experimental template engine with an embedded markdown processor.  <em>mkpage</em> (pronounced &ldquo;make page&rdquo;) is
a simple command line tool which accepts key value pairs and applies them to a Golang <a href="https://golang.org/pkg/text/template/">text/template</a>.
The key side of a pair corresponds to the template keys in the template document (e.g.
{{.pageContent}} is represented by the key <em>pageContent</em>). The value side of the pair can be a string,
filename or URL for a data source. Here&rsquo;s a simple example of a form letter</p>

<pre><code class="language-template">    Date: {{.now}}

    Hello {{.name -}},
    
    Forecast:

    {{range .weather.data.text}}
       + {{ . }}
    {{end}}

    Thank you

    {{.signature}}
</code></pre>

<p>Render the template above (i.e. myformletter.template) would be accomplished from the following
data sources&ndash;</p>

<ul>
<li>&ldquo;now&rdquo; and &ldquo;name&rdquo; are strings</li>
<li>&ldquo;weather&rdquo; comes from a URL of JSON content</li>
<li>&ldquo;signature&rdquo; comes from a file in our local disc</li>
</ul>

<p>That would be expressed on the command line as follows</p>

<pre><code class="language-shell">    mkpage &quot;now=string:$(date)&quot; \
        &quot;name=string:Little Frieda&quot; \
        &quot;weather=http://forecast.weather.gov/MapClick.php?lat=13.4712&amp;lon=144.7496&amp;FcstType=json&quot; \
        signature=testdata/signature.txt \
        testdata/myformletter.template
</code></pre>

<p>Since we are leveraging Go&rsquo;s <a href="https://golang.org/pkg/text/template/">text/template</a> the template itself
can be more than a simple substitution.</p>

<h2>Template blocks</h2>

<p>The Go text templates support defining blocks and rendering them in conjuction with a main template. This is
also supported by <em>mkpage</em>. For each template encountered on the command line it is added to an array of templates
passed and parse by the text template package.  This is then executed and output rendered by <em>mkpage</em>.</p>

<pre><code class="language-shell">    mkpage &quot;content=string:Hello World&quot; testdata/page.tmpl testdata/header.tmpl testdata/footer.tmpl
</code></pre>

<p>Here is what <em>page.tmpl</em> would look like</p>

<pre><code class="language-go">    {{template &quot;header&quot; . }}

        {{.content}}

    {{template &quot;footer&quot; . }}
</code></pre>

<p>The header and footer are then defined in their own template files (though they also could be combined into one).</p>

<p><em>header.tmpl</em></p>

<pre><code class="language-go">    {{define &quot;header&quot;}}This is the document header{{end}}
</code></pre>

<p><em>footer.tmpl</em></p>

<pre><code class="language-go">    {{define &quot;footer&quot;}}This is the footer{{end}}
</code></pre>

<p>In this example the output would look like</p>

<pre><code class="language-text">    This is the document header

        Hello World

    This is the footer
</code></pre>

<h2>Options</h2>

<p>In additional to populating a template with values from data sources <em>mkpage</em> also includes the
<a href="https://github.com/russross/blackfriday">blackfriday</a> markdown processor.  Using the &ldquo;-m&rdquo; option any
a filename referenced with the extension of &ldquo;.md&rdquo; will run through the markdown process for being put into
the template.  This allows you to easily generate pages and website from markdown files using simple templates.</p>

<ul>
<li>-h, -help - get command line help</li>
<li>-v, -version - show <em>mkpage</em> version number</li>
<li>-l, -license - show <em>mkpage</em> license information</li>
</ul>
</section>
    <nav><ul>
<li><a href="/">home</a></li>
<li><a href="./">mkpage</a></li>
<li><a href="go-template-recipes.html">Go template recipes</a></li>
<li><a href="LICENSE">LICENSE</a></li>
<li><a href="install.html">Install</a></li>
<li><a href="https://github.com/rsdoiel/mkpage">Github</a></li>
</ul>
</nav>
    <footer>
    <p>copyright &copy; 2016 R. S. Doiel
See: <a href="LICENSE">LICENSE</a></p>

    </footer>
</body>
</html>
